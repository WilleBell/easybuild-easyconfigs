easyblock = 'PythonBundle'

name = 'xarray'
version = '2022.6.0'

homepage = 'https://github.com/pydata/xarray'
description = """xarray (formerly xray) is an open source project and Python package that aims to bring
 the labeled data power of pandas to the physical sciences, by providing N-dimensional variants of the
 core pandas data structures."""

toolchain = {'name': 'foss', 'version': '2021b'}

builddependencies = [
    ('UnZip', '6.0'),
]

dependencies = [
    ('Python', '3.9.6'),
    ('SciPy-bundle', '2021.10'),  # required for numpy, pandas
]

exts_list = [
    ('hypothesis', '6.46.7', {
        'checksums': ['967009fa561b3a3f8363a73d71923357271c37dc7fa27b30c2d21a1b6092b240'],
    }),
    ('numpy', '1.22.3', {
        'patches': [
            'numpy-1.20.3_disable_fortran_callback_test.patch',
            'numpy-1.22.3_disable-broken-override-test.patch',
        ],
        'sources': ['%(name)s-%(version)s.zip'],
        'checksums': [
            'dbc7601a3b7472d559dc7b933b18b4b66f9aa7452c120e87dfb33d02008c8a18',  # numpy-1.22.3.zip
            # numpy-1.20.3_disable_fortran_callback_test.patch
            '44975a944544fd0e771b7e63c32590d257a3713070f8f7fdf60105dc516f1d75',
            # numpy-1.22.3_disable-broken-override-test.patch
            '9c589bb073b28b25ff45eb3c63c57966aa508dd8b318d0b885b6295271e4983c',
        ],
    }),
    (name, version, {
        'checksums': ['1028d198493f66bb15bd35dcfdd11defd831cbee3af6589fff16f41bddd67e84'],
    }),
]

download_dep_fail = True
use_pip = True
sanity_pip_check = True

moduleclass = 'data'
